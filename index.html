<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/seccion1.css">
    <link rel="stylesheet" href="css/seccion2.css">
    <link rel="stylesheet" href="css/ProductosSection.css">
    <link rel="stylesheet" href="css/seccion4.css">
    <link rel="stylesheet" href="css/containerServicios.css">
    <link rel="stylesheet" href="css/containerCuidador.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/footer.css">
    <title>Tails Up</title>
    <link rel="shortcut icon" href="images/isotipoTailsUp.png" type="image/x-icon">
</head>

<body>
    <header>
        <nav>
            <div class="medio">
                <img class="logoNav" src="images/logoCompleto.png" alt="logoNav.png">
                <div class="buscadorDiv">
                    <button id="btnBuscar"><img src="images/lupa.png" alt="lupa.png"></button>
                    <input class="buscador" type="search" placeholder="Buscar" id="inputBusqueda">
                    <div id="resultadosBusqueda" class="resultadosBusqueda"></div>
                </div>

                <div class="accesoDirecto">
                    <div class="navDiv">
                        <a class="carritoBtn" href="carrito.html"><img class="carrito" src="images/Carrito.png"
                                alt="carrito.png"></a>
                        <a class="carritoTxt" href="carrito.html">Carrito</a>
                    </div>
                    <div class="navDiv">
                        <a id="micuentaImg" class="loginBtn" href="login.html"><img class="login"
                                src="images/micuenta.png" alt="micuenta.png"></a>
                        <a id="micuenta" class="miCuentaTxt" id="micuenta" href="login.html">Mi cuenta</a>
                    </div>
                </div>

            </div>
            <div class="abajo">
                <a href="index.html">Home</a>
                <a href="shop.html">Tienda</a>
                <a href="blog.html">Consejos</a>
                <a href="hola">Acerca de</a>

                <div id="menuUsuario" class="dropdown-menu">
                    <div class="cart-tab"></div>
                    <ul>
                        <li><a href="favoritos.html">Favoritos</a></li>
                        <li><a href="#" id="cerrarSesion">Cerrar sesión</a></li>
                    </ul>
                </div>
            </div>

        </nav>
    </header>



    <div class="seccion1">
        <div class="imgTabletView">
            <img src="images/prueba.png" alt="">
        </div>
        <div class="imagenTelefono">
            <img class="imagenSeccion1" src="images/perrosMain.png" alt="perrosMain.png">
        </div>
        <div class="espacio"></div>
        <div class="consejosPhoneView">
            <ul class="sliderConsejos">
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo1.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1>Alimenta con balance<br></h1>
                            <p>Dale comida de calidad y en porciones adecuadas cada día.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo2.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1>Alimenta con balance<br></h1>
                            <p>Dale comida de calidad y en porciones adecuadas cada día.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo3.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1>Cuida su higiene<br></h1>
                            <p>Báñala según su tipo de pelaje y limpia sus oídos.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo4.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1>Juega todos los días<br></h1>
                            <p>Dedica tiempo a juegos que estimulen cuerpo y mente.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo6.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1>Ofrece espacio seguro<br></h1>
                            <p>Tu mascota necesita un lugar cómodo para descansar.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="divConsejosPhone">
                        <img src="images/circulo5.png" alt="circulo1.png">
                        <div class="textoConsejosPhone">
                            <h1> Crea una rutina fija<br></h1>
                            <p>Horarios constantes ayudan a reducir su ansiedad.</p>
                        </div>
                    </div>
                </li>
            </ul>

        </div>
        <div class="containerC1">
            <div class="divConsejos">
                <div class="textoConsejos">
                    <h1>Alimenta con balance<br></h1>
                    <p>Dale comida de calidad y en porciones adecuadas cada día.</p>
                </div>
                <img src="images/circulo1.png" alt="circulo1.png">
            </div>
            <div class="divConsejos">
                <div class="textoConsejos">
                    <h1>Visita al veterinario<br></h1>
                    <p>Haz chequeos regulares para prevenir enfermedades comunes.</p>
                </div>
                <img src="images/circulo2.png" alt="circulo1.png">
            </div>
            <div class="divConsejos">
                <div class="textoConsejos">
                    <h1>Cuida su higiene<br></h1>
                    <p>Báñala según su tipo de pelaje y limpia sus oídos.</p>
                </div>
                <img src="images/circulo3.png" alt="circulo1.png">
            </div>
        </div>
        <div class="imagenCompu">
        </div>
        <div class="containerC2">
            <div class="divConsejos">
                <img src="images/circulo4.png" alt="circulo1.png">
                <div class="textoConsejosRight">
                    <h1>Juega todos los días<br></h1>
                    <p>Dedica tiempo a juegos que estimulen cuerpo y mente.</p>
                </div>

            </div>
            <div class="divConsejos">
                <img src="images/circulo6.png" alt="circulo1.png">
                <div class="textoConsejosRight">
                    <h1>Ofrece espacio seguro<br></h1>
                    <p>Tu mascota necesita un lugar cómodo para descansar.</p>
                </div>
            </div>
            <div class="divConsejos">
                <img src="images/circulo5.png" alt="circulo1.png">
                <div class="textoConsejosRight">
                    <h1> Crea una rutina fija<br></h1>
                    <p>Horarios constantes ayudan a reducir su ansiedad.</p>
                </div>
            </div>
        </div>
    </div>
    <section class="seccion2">
        <div class="DivSec2">
            <img src="images/perro.png" alt="perro.png">
        </div>
        <div class="textoSeccion2">
            <h3>AHORRA 20% OFF</h3>
            <h4>ALIMENTOS PARA MASCOTAS</h4>
            <p>Compra y obten productos gratis</p>
            <button class="btnBuyNow">Comprar ahora</button>
        </div>
        <div class="LstDivSec2">
            <img src="images/comidaGato.png" alt="comidaGato.png">
        </div>
    </section>
    <div class="titleSection">
        <h4>PET FOOD</h4>
        <img src="images/huellaNaranja.png" alt="huellaNaranja.png">
    </div>
    <section class="seccionProducts" id="contenedorProductos">
        <!-- Aqui van los productos mas vendidos de comida-->
    </section>
    <div class="titleSection2">
        <h4>PET TOYS</h4>
        <img src="images/huellaNaranja.png" alt="huellaNaranja.png">
    </div>
    <section class="seccionProducts" id="contenedorToys">
        <!-- Aqui van los productos mas vendidos de juguetes-->
    </section>
    <div class="section4">
        <div class="imgPerro">
            <img src="images/perritoNaranja.png" alt="perritoNaranja.png">
        </div>
        <div class="containerTexto">
            <h1>PRUEBA</h1>
            <p>Cada perro tiene una raza y características diferentes, por lo que su estilo de vida, alimentación e
                incluso entretenimiento son diferentes, por favor trae a tu mascota a nuestra tienda para que te
                asesoremos por expertos.</p>
            <button id="btnBuscarBlog">Buscar en nuestro blog</button>
        </div>
    </div>
    <section class="containerServicios">
        <div class="divServicios">
            <p>Como consentir a tus mascotas</p>
        </div>
        <div class="divButton">
            <button class="btnServicios">Visita los servicios recomendados</button>
        </div>
    </section>
    <div class="carruselWrapper">
        <div class="sliderTrack" id="sliderTrack">
            <div class="esteticaCard">
                <img src="images/perroRapando.png" alt="perroRapando.png">
                <h3>Aseo completo</h3>
                <p>Elimina el pelo suelto y evita enredos y nudos en el pelaje de tu mascota.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/perroCortando.png" alt="perroCortando.png">
                <h3>Cortes de pelo</h3>
                <p>Recortes elegantes para mantener una longitud de pelaje ordenada y manejable.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/perroSecando.png" alt="perroSecando.png">
                <h3>Lavado y limpieza</h3>
                <p>Limpiar y lavar con champú para mantener su pelaje fresco y libre de suciedad y olor.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/gatoCortando.png" alt="gatoCortando.png">
                <h3>Cortes de uñas</h3>
                <p>Mantener sus uñas con una longitud adecuada para evitar molestias y crecimiento excesivo.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/perroSecando.png" alt="perroSecando.png">
                <h3>Lavado y limpieza</h3>
                <p>Limpiar y lavar con champú para mantener su pelaje fresco y libre de suciedad y olor.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/gatoCortando.png" alt="gatoCortando.png">
                <h3>Cortes de uñas</h3>
                <p>Mantener sus uñas con una longitud adecuada para evitar molestias y crecimiento excesivo.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/perroSecando.png" alt="perroSecando.png">
                <h3>Lavado y limpieza</h3>
                <p>Limpiar y lavar con champú para mantener su pelaje fresco y libre de suciedad y olor.</p>
            </div>
            <div class="esteticaCard">
                <img src="images/gatoCortando.png" alt="gatoCortando.png">
                <h3>Cortes de uñas</h3>
                <p>Mantener sus uñas con una longitud adecuada para evitar molestias y crecimiento excesivo.</p>
            </div>
        </div>
    </div>


    <div class="containerCuidador">
        <div class="divCuidador">
            <img src="images/seniorConPerro.png" alt="cuidador.png">
        </div>
        <div class="divCuidadorText">
            <h1>Amante de los animales!</h1>
            <p>¿Adoras a los perros y tienes experiencia en el cuidado de mascotas? ¿Te interesa ganar dinero mientras
                trabajas con perros? Descubre más sobre cómo convertirte en paseador, cuidador o entrenador de perros en
                tu ciudad.</p>
            <button id="btnConviertete">Conviertete</button>
        </div>
    </div>
    <!-- Modal de Detalles del Producto -->
    <div id="modalProducto" class="modal-producto">
        <div class="modal-contenido-wrapper">
            <span class="cerrar-modal" onclick="cerrarModalProducto()">&times;</span>

            <!-- Sección principal con imagen e info -->
            <div class="modal-contenido-grid">
                <div class="modal-img">
                    <img id="modalImagenProducto" src="" alt="Imagen del producto">
                    <p class="ampliarTexto">Coloca el cursor sobre la imagen para hacer zoom</p>
                </div>

                <div class="modal-info">
                    <h2 id="modalNombreProducto" class="titulo"></h2>
                    <p id="modalMarcaProducto" class="marca-link"></p>

                    <div class="rating">
                        <div id="modalEstrellas" class="estrellas-dinamicas"></div>
                        <span id="modalRatingVentas"></span>
                    </div>

                    <div class="precioSeccion">
                        <p class="precio-actual" id="modalPrecioProducto"></p>
                        <p class="precio-anterior" id="modalPrecioAnteriorProducto"></p>
                    </div>

                    <p id="modalDescripcionProducto" class="descripcion"></p>

                    <div class="cantidadCompra">
                        <label for="cantidad" style="font-family: poppins;">Cantidad:</label>
                        <div class="cantidadControles">
                            <button type="button" onclick="cambiarCantidad(-1)">−</button>
                            <input type="number" id="cantidad" name="cantidad" value="1" min="1" readonly>
                            <button type="button" onclick="cambiarCantidad(1)">+</button>
                        </div>
                    </div>

                    <div class="botonesModal">
                        <button class="btnCompraModal" onclick="verificarAccionUsuario(() => agregarAlCarritoYRedirigir(localStorage.getItem('idProductoActual'), obtenerCantidad()))">Comprar ahora</button>
                        <button class="btnCarritoModal" onclick="verificarAccionUsuario(() => agregarAlCarrito(localStorage.getItem('idProductoActual'), obtenerCantidad()))">
                            <img src="images/CarritoSimple.png" alt="carrito"> Agregar al carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Comentarios -->
            <div class="zonaComentarios">
                <h3>Reseñas</h3>
                <div id="comentariosLista" class="comentarios-lista">
                    <!-- Comentarios cargados dinámicamente -->
                </div>

                <div class="comentarioForm">
                    <label for="ratingComentario">Tu calificación:</label>
                    <div id="estrellasFormulario" class="estrellas-formulario">
                        <!-- Se llenan dinámicamente -->
                    </div>

                    <textarea id="nuevoComentario" placeholder="Escribe tu comentario..."></textarea>
                    <button onclick="agregarComentario()">Enviar</button>
                </div>
            </div>

        </div>
    </div>


    <footer>
        <img class="imgPatita" src="images/patita.png" alt="patita.png">
        <div class="containerNaranja">
            <div class="divTextoRegistro">
                <p>Registrate para obtener actualizaciones y novedades.</p>
            </div>
            <div class="divIngresa">
                <input class="inputRegistra" type="text" placeholder="Ingresa tu email">
                <button class="btnSuscribirse">Registrarse</button>
            </div>
        </div>
        <div class="containerRedes">
            <div class="containerEnlaces">
                <a href="/home">Home</a>
                <a href="/Categoria">Categoria</a>
                <a href="/Acerca">Acerca</a>
                <a href="/contacto">Contacto</a>
            </div>
            <div class="containerImagenes">
                <a href="/facebook"><img src="images/facebook.png" alt="facebook.png"></a>
                <a href="/twitter"><img src="images/twitter.png" alt="twitter.com"></a>
                <a href="/insta"><img src="images/instagram.png" alt="instagram.png"></a>
                <a href="/youtube"><img src="images/youTube.png" alt="youtube.png"></a>
            </div>
        </div>
        <hr>
        <div class="containerFinal">
            <p>Derechos reservados al ITM</p>
            <img src="images/logoFinal.png" alt="tailsUp.png">
            <p>Terminos de servicio</p>
        </div>
    </footer>
    <script src="js/carrusel.js"></script>
    <script src="js/productCard2.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const nombreUsuario = localStorage.getItem('usuario');
            if (nombreUsuario) {
                document.getElementById('micuenta').textContent = nombreUsuario;
                document.getElementById('micuenta').href = '#'; // o a un perfil si tienes
            }
        });
    </script>
    <script src="js/buscarAndFullCard.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const micuenta = document.getElementById('micuenta');
            const micuentaImg = document.getElementById('micuentaImg');
            const menuUsuario = document.getElementById('menuUsuario');
            const nombreUsuario = localStorage.getItem('usuario');

            if (nombreUsuario) {
                micuenta.textContent = nombreUsuario;
                micuenta.href = '#'; // Evita redirección
                micuentaImg.href = '#'
                // Mostrar/ocultar menú al hacer clic
                // Mostrar/ocultar menú al hacer clic
                const toggleMenu = (e) => {
                    e.preventDefault();
                    menuUsuario.classList.toggle('show');
                };

                micuenta.addEventListener('click', toggleMenu);
                micuentaImg.addEventListener('click', toggleMenu);


                // Cerrar sesión
                document.getElementById('cerrarSesion').addEventListener('click', () => {
                    localStorage.removeItem('usuario');
                    window.location.href = 'login.html';
                });
            }
        });
    </script>



    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.getElementById('sliderTrack');
            const cards = document.querySelectorAll('.esteticaCard');
            const totalCards = cards.length;

            let currentIndex = 0;
            let visibleCards = window.innerWidth <= 768 ? 2 : 4;

            function slide() {
                const maxIndex = Math.ceil(totalCards / visibleCards) - 1;
                currentIndex = (currentIndex + 1) > maxIndex ? 0 : currentIndex + 1;
                const percentage = -(100 * currentIndex);
                track.style.transform = `translateX(${percentage}%)`;
            }

            setInterval(slide, 3000);

            window.addEventListener('resize', () => {
                visibleCards = window.innerWidth <= 768 ? 2 : 4;
                currentIndex = 0;
                track.style.transform = `translateX(0%)`;
            });
        });

    </script>

    <script>
        function obtenerCantidad() {
            const cantidadInput = document.getElementById('cantidad');
            return cantidadInput ? parseInt(cantidadInput.value, 10) : 1;
        }

        function agregarAlCarrito(idProducto, cantidad) {
            const idUsuario = localStorage.getItem('idUsuario');

            console.log("ID Usuario:", idUsuario);
            console.log("ID Producto:", idProducto);
            console.log("Cantidad:", cantidad);

            if (!idUsuario) {
                console.warn("⚠️ Usuario no autenticado. Redirigiendo a la página de inicio de sesión.");
                window.location.href = "login.html";
                return;
            }

            const payload = {
                idUsuario: idUsuario,
                idProducto: idProducto,
                cantidad: cantidad
            };

            fetch("http://localhost/TailsUp-Backend/endPointAddToCart.php", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            })
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        alert("✅ Producto añadido al carrito correctamente.");
                    } else {
                        console.warn("⚠️ Error al añadir al carrito:", data.error);
                    }
                })
                .catch(err => console.error("❌ Error al conectar con el servidor:", err));
        }

        function agregarAlCarritoYRedirigir(idProducto, cantidad) {
            agregarAlCarrito(idProducto, cantidad);
            window.location.href = "carrito.html";
        }
    </script>

</body>

</html>
``` 